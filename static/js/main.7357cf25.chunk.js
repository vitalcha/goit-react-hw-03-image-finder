(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={App:"Modal_App__27hlF",Searchbar:"Modal_Searchbar__1rkgi",SearchForm:"Modal_SearchForm__3tzxW",SearchForm_button:"Modal_SearchForm_button__H56wr",SearchForm_button_label:"Modal_SearchForm_button_label__2Fhlp",SearchForm_input:"Modal_SearchForm_input__1O7Ag",ImageGallery:"Modal_ImageGallery__CNi-9",ImageGalleryItem:"Modal_ImageGalleryItem__1eP4O",ImageGalleryItem_image:"Modal_ImageGalleryItem_image__3LSXr",Overlay:"Modal_Overlay__1WwEs",Modal:"Modal_Modal__3rBRU",Button:"Modal_Button__uwAnD"}},23:function(e,a,t){e.exports={App:"ImageGallery_App__2-kUH",Searchbar:"ImageGallery_Searchbar__20gbP",SearchForm:"ImageGallery_SearchForm__2yJF-",SearchForm_button:"ImageGallery_SearchForm_button__2hB29",SearchForm_button_label:"ImageGallery_SearchForm_button_label__1GDlA",SearchForm_input:"ImageGallery_SearchForm_input__uL0j6",ImageGallery:"ImageGallery_ImageGallery__1Ki-P",ImageGalleryItem:"ImageGallery_ImageGalleryItem__2h9nm",ImageGalleryItem_image:"ImageGallery_ImageGalleryItem_image__2ejkS",Overlay:"ImageGallery_Overlay__1wsbd",Modal:"ImageGallery_Modal__PmB4b",Button:"ImageGallery_Button__22dhB"}},24:function(e,a,t){},26:function(e,a,t){e.exports={loader:"Loader_loader__3h0NQ"}},27:function(e,a,t){e.exports=t(70)},3:function(e,a,t){e.exports={App:"SearchBar_App__L7YrB",Searchbar:"SearchBar_Searchbar__1LLaQ",SearchForm:"SearchBar_SearchForm__29mk3",SearchForm_button:"SearchBar_SearchForm_button__3zEqY",SearchForm_button_label:"SearchBar_SearchForm_button_label__2SNjD",SearchForm_input:"SearchBar_SearchForm_input__1nhYW",ImageGallery:"SearchBar_ImageGallery__2oATN",ImageGalleryItem:"SearchBar_ImageGalleryItem__uAHZj",ImageGalleryItem_image:"SearchBar_ImageGalleryItem_image__1Ek3E",Overlay:"SearchBar_Overlay__2I_kl",Modal:"SearchBar_Modal__f2ggq",Button:"SearchBar_Button__3eTEl"}},70:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),n=t(21),o=t.n(n),m=t(11),c=t(4),_=t(5),i=t(7),u=t(6),g=t(8),h=t(22),s=t.n(h),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cat",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&page=".concat(a,"&key=14443165-14886d9891bf2bd5a88f511a0&q=").concat(e))},d=t(3),I=t.n(d),p=function(e){function a(){var e,t;Object(c.a)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={query:""},t.handleChange=function(e){t.setState({query:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var a=t.state.query;t.props.onSearch(a),t.setState({query:""})},t}return Object(g.a)(a,e),Object(_.a)(a,[{key:"render",value:function(){var e=this.state.query;return l.a.createElement("header",{className:I.a.Searchbar},l.a.createElement("form",{onSubmit:this.handleSubmit,className:I.a.SearchForm},l.a.createElement("button",{type:"submit",className:I.a.SearchFormButton},l.a.createElement("span",{className:I.a.SearchFormButtonLabel},"Search")),l.a.createElement("input",{className:I.a.SearchFormInput,type:"text",autoComplete:"off",placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(r.Component),S=t(9),b=t.n(S),f=function(e){var a=e.dataObj,t=e.onOpenModal;return l.a.createElement("li",{className:b.a.ImageGalleryItem,onClick:function(){return t(a.webformatURL)}},l.a.createElement("img",{src:a.webformatURL,alt:"",className:b.a.ImageGalleryItemImage}))},G=t(23),v=t.n(G),F=function(e){var a=e.items,t=e.onOpenModal;return l.a.createElement("ul",{className:v.a.ImageGallery},a.map((function(e){return l.a.createElement(f,{onOpenModal:t,key:e.id,dataObj:e})})))},M=t(24),O=t.n(M),E=function(e){var a=e.ChangePage;return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:a,type:"button",className:O.a.Button},"Load more"))},B=t(25),N=t.n(B),w=t(26),k=t.n(w),j=function(){return l.a.createElement("div",{className:k.a.loader},l.a.createElement(N.a,{type:"BallTriangle",color:"grey",height:100,width:100}))},L=t(10),A=t.n(L),C=function(e){var a=e.bigPicture,t=e.closeModal;return l.a.createElement("div",{className:A.a.Overlay,onClick:t},l.a.createElement("div",{className:A.a.Modal},l.a.createElement("img",{src:a,alt:""})))},q=function(e){function a(){var e,t;Object(c.a)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={images:[],isLoading:!1,pageNumber:1,query:"",isModalOpen:!1,bigPicture:""},t.changePage=function(){t.state.images.length>0&&t.setState((function(e){return{pageNumber:e.pageNumber+1}}))},t.getImages=function(e,a){t.setState({isLoading:!0}),y(e,a).then((function(e){return t.setState((function(a){return{images:[].concat(Object(m.a)(a.images),Object(m.a)(e.data.hits))}}))})).finally((function(){return setTimeout((function(){t.setState({isLoading:!1})}),500)}))},t.onSearch=function(e){t.setState({query:e,images:[],pageNumber:1})},t.openModal=function(e){t.setState({isModalOpen:!0,bigPicture:e}),window.addEventListener("keydown",t.closeModal)},t.closeModal=function(e){e.target!==e.currentTarget&&27!==e.keyCode||t.setState({isModalOpen:!1}),window.removeEventListener("keydown",t.closeModal)},t}return Object(g.a)(a,e),Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.query,t=e.pageNumber;this.getImages(a,t)}},{key:"componentDidUpdate",value:function(e,a){var t=this.state,r=t.pageNumber,l=t.query,n=t.images;a.pageNumber===r&&a.query===l||this.getImages(l,r),a.images!==n&&n.length>12&&setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,r=e.isModalOpen,n=e.bigPicture;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{onSearch:this.onSearch}),l.a.createElement(F,{items:a,onOpenModal:this.openModal}),t&&l.a.createElement(j,null),l.a.createElement(E,{ChangePage:this.changePage}),r&&l.a.createElement(C,{bigPicture:n,closeModal:this.closeModal}))}}]),a}(r.Component);o.a.render(l.a.createElement(q,null),document.getElementById("root"))},9:function(e,a,t){e.exports={App:"ImageGalleryItem_App__2Nzh3",Searchbar:"ImageGalleryItem_Searchbar__1Tfmd",SearchForm:"ImageGalleryItem_SearchForm__2vz2c",SearchForm_button:"ImageGalleryItem_SearchForm_button___ALMp",SearchForm_button_label:"ImageGalleryItem_SearchForm_button_label__TtZmE",SearchForm_input:"ImageGalleryItem_SearchForm_input__29S8K",ImageGallery:"ImageGalleryItem_ImageGallery__3sSVe",ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__i_n-6",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__18b4u",Overlay:"ImageGalleryItem_Overlay__17C4O",Modal:"ImageGalleryItem_Modal__1LmeA",Button:"ImageGalleryItem_Button__2tcgz"}}},[[27,1,2]]]);
//# sourceMappingURL=main.7357cf25.chunk.js.map